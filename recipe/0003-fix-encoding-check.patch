From b3d36c7c0e008becf0d064292496b2b01596770e Mon Sep 17 00:00:00 2001
From: Andrii Osipov <aosipov@anaconda.com>
Date: Thu, 6 Feb 2025 11:36:16 -0800
Subject: [PATCH] fix encoding check

---
 smote_variants/oversampling/_deago.py | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

diff --git a/smote_variants/oversampling/_deago.py b/smote_variants/oversampling/_deago.py
index 40c792a..2279980 100755
--- a/smote_variants/oversampling/_deago.py
+++ b/smote_variants/oversampling/_deago.py
@@ -129,7 +129,7 @@ class DEAGO(OverSampling):
                                   'sigma': [0.05, 0.1, 0.2]}
         return cls.generate_parameter_combinations(parameter_combinations, raw)
 
-    def get_model(self, n_dim, encoding_d):
+    def get_model(self, n_dim, encoding_d=None):
         """
         Return the model
 
@@ -146,7 +146,10 @@ class DEAGO(OverSampling):
 
         # Validate input values
         assert isinstance(n_dim, int) and n_dim > 0, "n_dim must be a positive integer"
-        assert isinstance(encoding_d, int) and encoding_d > 0, "encoding_d must be a positive integer"
+
+        # Fix: Ensure encoding_d is set correctly
+        if encoding_d is None or not isinstance(encoding_d, int) or encoding_d <= 0:
+            encoding_d = max(1, n_dim // 2)  # Default encoding size
 
         # Importing TensorFlow Keras to avoid issues
         from tensorflow import keras
-- 
2.39.3 (Apple Git-146)

